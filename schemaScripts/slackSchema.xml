<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<schema xmlns="http://optimal-systems.org/ns/dmscloud/schema/v5.0/">
  <propertyStringDefinition>
      <id>author</id>
      <propertyType>string</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyStringDefinition>
  <propertyStringDefinition>
      <id>name</id>
      <propertyType>string</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyStringDefinition>
  <propertyStringDefinition>
      <id>text</id>
      <propertyType>string</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyStringDefinition>
  <propertyIntegerDefinition>
      <id>numOfAttachments</id>
      <propertyType>integer</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyIntegerDefinition>
  <propertyDateTimeDefinition>
      <id>createdAt</id>
      <propertyType>datetime</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyDateTimeDefinition>
  <propertyStringDefinition>
      <id>messageId</id>
      <propertyType>string</propertyType>
      <cardinality>single</cardinality>
      <required>true</required>
  </propertyStringDefinition>
  <typeDocumentDefinition>
      <id>message</id>
      <baseId>system:document</baseId>
      <propertyReference>numOfAttachments</propertyReference>
      <contentStreamAllowed>notallowed</contentStreamAllowed>
      <secondaryObjectTypeId>slackSecondary</secondaryObjectTypeId>
  </typeDocumentDefinition>
  <typeDocumentDefinition>
      <id>attachment</id>
      <baseId>system:document</baseId>
      <propertyReference>name</propertyReference>
      <propertyReference>messageId</propertyReference>
      <contentStreamAllowed>required</contentStreamAllowed>
      <secondaryObjectTypeId>slackSecondary</secondaryObjectTypeId>
  </typeDocumentDefinition>
  <typeSecondaryDefinition>
      <id>slackSecondary</id>
      <baseId>system:secondary</baseId>
      <propertyReference>author</propertyReference>
      <propertyReference>text</propertyReference>
      <propertyReference>createdAt</propertyReference>
  </typeSecondaryDefinition>
</schema>
